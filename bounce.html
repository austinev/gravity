<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>gravity</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- Bootstrap File -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery.js"></script>
  </head>
  <body>
    <div class="container" style="position:relative">
      <h1>Click to start</h1>
      <button type="button" class="btn btn-primary start_button">Start</button>
      <button type="button" class="btn btn-primary reset_button">Reset</button>
      <img
        src="ball.png"
        alt=""
        id="ball_img"
        style="position:absolute; top:100px; left: 80px; z-index: -20; height: 30px"
      />
      <img
        src="bar.png"
        alt=""
        class="bar_img"
        style="position:absolute; top:500px; left: 20px; z-index: -20; width: 1000px"
      />
    </div>

    <script>
      //var running = false;
      //gravity simulation
      var floor = 1000; //the bounce spot?
      var ball_El = document.getElementById("ball_img");
      const start_x = 100;
      const start_y = 100;
      var x = start_x;
      var y = start_y;
      var v_y=0;              //velocity starts at zero
      const earth_g=9.8;    //earth G
      var t=0;              //time
      var increment=1;      //the amount to change per tick.
      //var pos = 0;
      var timer;
      draw(x, y);

      $(".start_button").on("click", function() {
        x = start_x;
        y = start_y;
        draw(start_x, start_y);

        timer = setInterval(frame, 5);
      });

      $(".reset_button").on("click", function() {
        x = start_x;
        y = start_y;
        draw(start_x, start_y);
        clearInterval(timer);
      });

      function frame() {
        if (y == 478) {
          clearInterval(timer);
        } else {
          x++;              //sideways vector isn't affected by gravity
          y=y+increment;
          draw(x, y);
        }
      }

      function draw(x, y) {
        ball_El.style.top = y + "px";
        //ball_El.style.left = x + "px";
      }
    </script>
  </body>
</html>
